clc;
clear all;
close all;

n = 10;
folder = "~/Dropbox/phd_grl_results/phd_grl_mpol_results/";
subfolder = "cart_pole_yamls_results/";
preffix = "cart_pole_replay_ddpg_tensorflow_sincos_i";
addpath("~/Dropbox/phd_grl_results/matlab");
steps_per_second = 20;

%%
array_runs = [subfolder + "cart_pole_replay_ddpg_tensorflow_sincos_i16*txt",...
              subfolder + "cart_pole_replay_ddpg_tensorflow_sincos_i20*txt"];
title_fig = "FINDING BEST SINGLE CART POLE V1";

ploting_executions(folder, title_fig, steps_per_second, array_runs);

%%
array_runs = [subfolder + preffix + "1_j*.txt",...
    subfolder + preffix + "2_j*.txt",...
    subfolder + preffix + "3_j*txt",...
    subfolder + preffix + "8_j*.txt",...
    subfolder + preffix + "9_j*txt",...
    subfolder + preffix + "10_j*txt",...
    subfolder + preffix + "13_j*txt",...
    subfolder + preffix + "15_j*txt",...
    subfolder + preffix + "16_j*txt",...
    subfolder + preffix + "17_j*txt",...
    subfolder + preffix + "19_j*txt",...
    subfolder + preffix + "20_j*txt",...
    subfolder + preffix + "21_j*txt",...
    subfolder + preffix + "25_j*txt",...
    subfolder + preffix + "29_j*txt",...
    subfolder + preffix + "32_j*txt"];
title_fig = "SINGLE CART POLE GOOD";

ploting_executions(folder, title_fig, steps_per_second, array_runs);


%%
array_runs = [subfolder + preffix + "1_j*.txt",...
    subfolder + preffix + "3_j*.txt",...
    subfolder + preffix + "5_j*.txt",...
    subfolder + preffix + "7_j*txt",...
    subfolder + preffix + "8_j*txt",...
    subfolder + preffix + "9_j*txt",...
    subfolder + preffix + "13_j*txt",...
    subfolder + preffix + "15_j*txt",...
    subfolder + preffix + "17_j*txt",...
    subfolder + preffix + "19_j*txt",...
    subfolder + preffix + "20_j*txt",...
    subfolder + preffix + "21_j*txt",...
    subfolder + preffix + "23_j*txt",...
    subfolder + preffix + "25_j*txt",...
    subfolder + preffix + "28_j*txt",...
    subfolder + preffix + "32_j*txt"];
title_fig = "SINGLE CART POLE MID";

ploting_executions(folder, title_fig, steps_per_second, array_runs);

%%
array_runs = [subfolder + preffix + "1_j*.txt",...
    subfolder + preffix + "3_j*.txt",...
    subfolder + preffix + "5_j*.txt",...
    subfolder + preffix + "7_j*txt",...
    subfolder + preffix + "8_j*txt",...
    subfolder + preffix + "9_j*txt",...
    subfolder + preffix + "13_j*txt",...
    subfolder + preffix + "15_j*txt",...
    subfolder + preffix + "19_j*txt",...
    subfolder + preffix + "23_j*txt",...
    subfolder + preffix + "25_j*txt",...
    subfolder + preffix + "26_j*txt",...
    subfolder + preffix + "27_j*txt",...
    subfolder + preffix + "28_j*txt",...
    subfolder + preffix + "31_j*txt",...
    subfolder + preffix + "32_j*txt"];
title_fig = "SINGLE CART POLE BAD";

ploting_executions(folder, title_fig, steps_per_second, array_runs);


%%
subfolderold = subfolder;
subfolder = "cart_pole_mpols_yamls_results/";
preffixold = preffix;
preffix = "cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16";
array_runs = [subfolder + preffix + "good_*_none_data_center_linear_order_1.0_best_a0.01_*.txt",...
              subfolder + preffix + "good_*_none_none_1.0_random_a1_*txt"];
title_fig = "SINGLE CART POLE MPOL GOOD";

ploting_executions(folder, title_fig, steps_per_second, array_runs);
subfolder = subfolderold;
preffix = preffixold;

%%
subfolderold = subfolder;
subfolder = "cart_pole_mpols_yamls_results/";
preffix = "cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16";
array_runs = [subfolder + preffix + "mid_*_none_data_center_linear_order_1.0_best_a0.01_*.txt",...
              subfolder + preffix + "mid_j0_none_none_1.0_random_a1_*txt"];
title_fig = "SINGLE CART POLE MPOL MID";

ploting_executions(folder, title_fig, steps_per_second, array_runs);
subfolder = subfolderold;

%%
subfolderold = subfolder;
subfolder = "cart_pole_mpols_yamls_results/";
preffix = "cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16";
array_runs = [subfolder + preffix + "bad_*_none_none_1.0_random_a1*.txt",...
              subfolder + preffix + "bad_*_none_data_center_linear_order_1.0_best_a0.01_*txt"];
title_fig = "SINGLE CART POLE MPOL BAD";

ploting_executions(folder, title_fig, steps_per_second, array_runs);
subfolder = subfolderold;
preffix = preffixold;

%% MPOL DPG CARTPOLE
n = 10;
compare_executions(n, folder, 2, 90, 'MPOL DDPG CARTPOLE',...
  "cart_pole_dpg_data",...  
  "cartpole_q_data",...
  "cartpole_mpol_1_replay_ddpg_tensorflow_data");

%%
%Interval 10.000
%reward scale 0.1
%replay 128, batch_size 52
title_fig = "FINDING BEST SINGLE CART POLE";
array_runs = ["cartpole_mpol_1_replay_ddpg_tensorflow_replay_steps_128_batch_size_64_reward_010_*.txt",...
    "cartPoleMpolDdpg16V2Alg4stepsNoneDensity100BestA001*.txt",...
    "cartPoleMpolDdpg16V2MeanEuclidianDistance010BestA001*.txt"];

ploting_executions(folder, title_fig, steps_per_second, array_runs);

%%
%Interval 10.000
%reward scale 0.1
%replay 128, batch_size 52
array_runs = ["cartpole_mpol_1_replay_ddpg_tensorflow_replay_steps_128_batch_size_64_reward_010_*.txt",...
    "cart_pole_new/cart_pole_replay_ddpg_tensorflow_geometric_replay_steps128_batch_size128*.txt" , ...
    "cart_pole_new/cart_pole_replay_ddpg_tensorflow_geometric_replay_steps64_batch_size64*.txt"];
title_fig = "FINDING BEST SINGLE CART POLE";

ploting_executions(folder, title_fig, steps_per_second, array_runs);

%%
array_runs = ["cartpole_mpol_1_replay_ddpg_tensorflow_replay_steps_128_batch_size_64_reward_010_*.txt",...
"cart_pole_new/cart_pole_replay_ddpg_tensorflow_geometric_replay_steps32_batch_size64*.txt" , ...
"cart_pole_new/cart_pole_replay_ddpg_tensorflow_geometric_replay_steps64_batch_size128*.txt" , ...
"cart_pole_new/cart_pole_replay_ddpg_tensorflow_geometric_replay_steps64_batch_size256*.txt" , ...
"cart_pole_new/cart_pole_replay_ddpg_tensorflow_geometric_replay_steps64_batch_size64*.txt"];
title_fig = "FINDING BEST SINGLE CART POLE";

ploting_executions(folder, title_fig, steps_per_second, array_runs);

%%
array_runs = ["cartpole_mpol_1_replay_ddpg_tensorflow_replay_steps_128_batch_size_64_reward_010_*.txt",...
"cart_pole_new/cart_pole_replay_ddpg_tensorflow_geometric_replay_steps128_batch_size128*.txt" , ...
"cart_pole_new/cart_pole_replay_ddpg_tensorflow_geometric_replay_steps128_batch_size256*.txt" , ...
"cart_pole_new/cart_pole_replay_ddpg_tensorflow_geometric_replay_steps128_batch_size64*.txt" , ...
"cart_pole_new/cart_pole_replay_ddpg_tensorflow_geometric_replay_steps32_batch_size128*.txt" , ...
"cart_pole_new/cart_pole_replay_ddpg_tensorflow_geometric_replay_steps32_batch_size256*.txt"];
title_fig = "FINDING BEST SINGLE CART POLE";

ploting_executions(folder, title_fig, steps_per_second, array_runs);

%%
%Interval 10.000
%reward scale 0.1
%replay 128, batch_size 52
title_fig = "TRYING MPOL CART POLE";
array_runs = ["cartpole_mpol_1_replay_ddpg_tensorflow_replay_steps_128_batch_size_64_reward_010_*.txt",...
    "cartPoleMpolDdpg16Alg4stepsNoneDensity100BestA001*.txt",... %none_density_100_best
    "cartPoleMpolDdpg16V2Alg4stepsNoneDensity100BestA001*.txt"];

ploting_executions(folder, title_fig, steps_per_second, array_runs);

%%
%Interval 10.000
%reward scale 0.1
%replay 128, batch_size 52
title_fig = "TRYING MPOL CART POLE";
array_runs = ["cartpole_mpol_1_replay_ddpg_tensorflow_replay_steps_128_batch_size_64_reward_010_*.txt",...
    "cartPoleMpolDdpg16V2MeanEuclidianDistance010BestA001*.txt",...
    "cartPoleMpolDdpg16V3Alg4stepsMeanEuclidian010BestA001*.txt"];

ploting_executions(folder, title_fig, steps_per_second, array_runs);

%%
array_runs = ["cart_pole_yamls_mpols_group_results/cart_pole_mpol_replay_ddpg_tensorflow_sincos_16good_*.txt",...
    "cart_pole_yamls_mpols_group_results/cart_pole_mpol_replay_ddpg_tensorflow_sincos_16mid_*.txt",...
    "cart_pole_yamls_mpols_group_results/cart_pole_mpol_replay_ddpg_tensorflow_sincos_16bad_*.txt"];
title_fig = "POL GOOD MID BAD CART POLE";

ploting_executions(folder, title_fig, steps_per_second, array_runs);

%%
array_runs = ["cartpole_mpol_1_replay_ddpg_tensorflow_replay_steps_128_batch_size_64_reward_010_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16bad_*_mean_euclidian_distance_0.5_density_a0.01_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16bad_*_none_none_1.0_data_center_a1.0_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16bad_*_none_none_1.0_density_a1.0_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16bad_*_none_none_1.0_mean_a1.0_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16bad_*_none_none_1.0_random_a1_*.txt"];

title_fig = "MPOL CART POLE BAD";

ploting_executions(folder, title_fig, steps_per_second, array_runs);

%%
array_runs = ["cartpole_mpol_1_replay_ddpg_tensorflow_replay_steps_128_batch_size_64_reward_010_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16bad_*_density_euclidian_distance_0.01_best_a0.01_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16bad_*_mean_euclidian_distance_0.1_best_a0.01_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16bad_*_mean_euclidian_distance_0.5_data_center_a0.01_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16bad_*_mean_euclidian_distance_0.5_density_a0.01_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16bad_*_none_data_center_linear_order_1.0_best_a0.01_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16bad_*_none_density_0.5_data_center_a0.01_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16bad_*_none_density_0.5_density_a0.01_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16bad_*_none_density_1.0_best_a0.01_*.txt"];

title_fig = "MPOL CART POLE BAD";

ploting_executions(folder, title_fig, steps_per_second, array_runs);

%%
array_runs = ["cartpole_mpol_1_replay_ddpg_tensorflow_replay_steps_128_batch_size_64_reward_010_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16good_*_mean_euclidian_distance_0.5_density_a0.01_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16good_*_none_none_1.0_data_center_a1.0_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16good_*_none_none_1.0_density_a1.0_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16good_*_none_none_1.0_mean_a1.0_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16good_*_none_none_1.0_random_a1_*.txt"];

title_fig = "MPOL CART POLE GOOD";

ploting_executions(folder, title_fig, steps_per_second, array_runs);

%%
subfolderold = subfolder;
subfolder = "cart_pole_mpols_yamls_results/";
preffixold = preffix;
preffix = "cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16";

array_runs = ["cartpole_mpol_1_replay_ddpg_tensorflow_replay_steps_128_batch_size_64_reward_010_*.txt",...
              subfolder + "cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16good_*_density_euclidian_distance_0.01_best_a0.01_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16good_*_mean_euclidian_distance_0.1_best_a0.01_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16good_*_mean_euclidian_distance_0.5_data_center_a0.01_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16good_*_mean_euclidian_distance_0.5_density_a0.01_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16good_*_none_data_center_linear_order_1.0_best_a0.01_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16good_*_none_density_0.5_data_center_a0.01_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16good_*_none_density_0.5_density_a0.01_*.txt",...
              "cart_pole_yamls_results/cart_pole_cart_pole_mpol_replay_ddpg_tensorflow_sincos_16good_*_none_density_1.0_best_a0.01_*.txt"];

title_fig = "MPOL CART POLE GOOD";

ploting_executions(folder, title_fig, steps_per_second, array_runs);

preffix = preffixold;
subfolder = subfolderold;

%%
subfolderold = subfolder;
subfolder = "cart_pole_mpols_yamls_results/";
preffixold = preffix;
type = "bad";
preffix = "cart_pole_cp_tau_mpol_replay_ddpg_tensorflow_sincos_16";
array_runs = [subfolder + preffix + type + "_*_mean_euclidian_distance_0.5_density_a0.01_*.txt",...
              subfolder + preffix + type + "_*_mean_euclidian_distance_0.5_density_a0.01_*.txt",...
              subfolder + preffix + type + "_*_none_none_1.0_random_a1_*txt"];
title_fig = ["SINGLE CART_POLE MPOL ", type];

ploting_executions(folder, title_fig, steps_per_second, array_runs);
subfolder = subfolderold;
preffix = preffixold;

%%
subfolderold = subfolder;
subfolder = "cart_pole_mpols_yamls_results/";
preffixold = preffix;
type = "mid";
preffix = "cart_pole_cp_tau_mpol_replay_ddpg_tensorflow_sincos_16";
array_runs = [subfolder + preffix + type + "_*_none_data_center_linear_order_1.0_best_a0.01_*.txt",...
              subfolder + preffix + type + "_*_mean_euclidian_distance_0.5_density_a0.01_*.txt",...
              subfolder + preffix + type + "_*_none_none_1.0_random_a1_*txt"];
title_fig = ["SINGLE CART_POLE MPOL ", type];

ploting_executions(folder, title_fig, steps_per_second, array_runs);
subfolder = subfolderold;
preffix = preffixold;

%%
subfolderold = subfolder;
subfolder = "cart_pole_mpols_yamls_results/";
preffixold = preffix;
type = "good";
preffix = "cart_pole_cp_tau_mpol_replay_ddpg_tensorflow_sincos_16";
array_runs = [subfolder + preffix + type + "_*_none_data_center_linear_order_1.0_best_a0.01_*.txt",...
              subfolder + preffix + type + "_*_none_none_1.0_random_a1_*txt"];
title_fig = ["SINGLE CART POLE MPOL ", type];

ploting_executions(folder, title_fig, steps_per_second, array_runs);
subfolder = subfolderold;
preffix = preffixold;


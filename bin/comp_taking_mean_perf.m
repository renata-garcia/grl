clc;
clear all;
close all;

folder = "~/Dropbox/phd_grl_results/phd_grl_mpol_results/cart_pols_yamls_results/";
addpath("~/Dropbox/phd_grl_results/matlab");
steps_per_second = 20;
steps_counted = 10;

array_runs = ["cart_pole_replay_ddpg_tensorflow_sincos_i1_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i2_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i3_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i4_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i5_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i6_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i7_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i8_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i9_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i10_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i11_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i12_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i13_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i14_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i15_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i16_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i17_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i18_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i19_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i20_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i21_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i22_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i23_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i24_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i25_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i26_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i27_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i28_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i29_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i30_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i31_j*.txt",...
    "cart_pole_replay_ddpg_tensorflow_sincos_i32_j*.txt"];

for j=1:length(array_runs)
    fd = folder + array_runs(j);
    [t, mean_d, ~, std_d] = avgseries(readseries(fd, 3, 2, steps_per_second));
    display(mean(mean_d(length(mean_d)-steps_counted+1:length(mean_d))));
end
